import{_ as t,o as a,c as e,S as s}from"./chunks/framework.a3dd33a8.js";const b=JSON.parse('{"title":"Docker部署Visual-DDD","description":"","frontmatter":{},"headers":[],"relativePath":"base/product/DDD可视化开发平台文档/环境准备/Docker部署.md","filePath":"base/product/DDD可视化开发平台文档/环境准备/Docker部署.md","lastUpdated":1706585121000}'),l={name:"base/product/DDD可视化开发平台文档/环境准备/Docker部署.md"},r=s('<h1 id="docker部署visual-ddd" tabindex="-1">Docker部署Visual-DDD <a class="header-anchor" href="#docker部署visual-ddd" aria-label="Permalink to &quot;Docker部署Visual-DDD&quot;">​</a></h1><p>GitHub地址：<a href="https://github.com/visual-ddd/visual-ddd-docker" target="_blank" rel="noreferrer">Docker部署DDD可视化开发者平台</a></p><h2 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h2><p>在开始部署之前，请确保已完成以下准备工作：</p><ol><li><p>安装Docker和Docker Compose：确保你的服务器已安装了Docker和Docker Compose。 如果尚未安装，请按照<a href="https://docs.docker.com/engine/install/centos/" target="_blank" rel="noreferrer">官方文档</a>进行安装。</p></li><li><p>拉取项目：通过git拉取本项目到部署环境下。</p></li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">git@github.com:visual-ddd/visual-ddd-docker.git</span></span></code></pre></div><h2 id="部署步骤" tabindex="-1">部署步骤 <a class="header-anchor" href="#部署步骤" aria-label="Permalink to &quot;部署步骤&quot;">​</a></h2><ol><li>进入项目目录：使用命令行工具进入项目所在的目录。</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">visual-ddd-docker</span></span></code></pre></div><ol start="2"><li>请根据项目的要求进行相应的修改，例如修改端口号、添加环境变量等，详情请参考docker-compose.yml配置。</li></ol><ul><li>前端关键配置：</li></ul><table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>BACKEND</td><td>后端服务地址，例如 <a href="http://172.26.57.49:8080" target="_blank" rel="noreferrer">http://172.26.57.49:8080</a></td></tr><tr><td>SESSION_SECRET</td><td>会话加密密钥</td></tr><tr><td>PASS_THROUGH_SESSION</td><td>登录时是否透传后端的会话信息，默认为 false</td></tr><tr><td>AI_CONFIGURATION</td><td>OPENAI 配置，配置项见 ./modules/ai/platform/index.ts</td></tr></tbody></table><p>更多设置：<a href="https://github.com/visual-ddd/visual-ddd-client/blob/main/DEVEPLOMENT.md" target="_blank" rel="noreferrer">https://github.com/visual-ddd/visual-ddd-client/blob/main/DEVEPLOMENT.md</a></p><ul><li>后端关键配置： 以下是将给定的信息转换为表格的结果，并补充了每个配置项的说明：</li></ul><table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>common.mysql.url</td><td>MySQL数据库的连接URL，指定了数据库的地址、端口、数据库名称以及一些连接参数。</td></tr><tr><td>common.mysql.username</td><td>MySQL数据库的用户名。</td></tr><tr><td>common.mysql.password</td><td>MySQL数据库的密码。</td></tr><tr><td>register.mail.suffix-configs</td><td>注册邮箱的域名限制，指定了允许注册的邮箱的域名后缀。</td></tr><tr><td>register.whitelist.enable</td><td>是否启用注册白名单功能，当为&#39;false&#39;时，不启用注册白名单功能；当为&#39;true&#39;时，启用注册白名单功能。</td></tr><tr><td>common.mq.message.default-type</td><td>消息队列的默认类型，此处指定了默认使用的消息队列类型为rabbitMq。</td></tr><tr><td>common.mq.rabbitmq.bootstrap-servers</td><td>RabbitMQ服务器的地址，指定了RabbitMQ服务器的IP地址或主机名。</td></tr><tr><td>common.mq.rabbitmq.username</td><td>RabbitMQ服务器的用户名。</td></tr><tr><td>common.mq.rabbitmq.password</td><td>RabbitMQ服务器的密码。</td></tr><tr><td>spring.mail.host</td><td>SMTP邮件服务器的主机地址，指定了用于发送邮件的SMTP服务器的主机地址。</td></tr><tr><td>spring.mail.username</td><td>发送邮件时使用的邮箱的用户名。</td></tr><tr><td>spring.mail.password</td><td>发送邮件时使用的邮箱的密码。</td></tr><tr><td>spring.mail.properties.mail.smtp.auth</td><td>邮件服务器的认证机制，当为&#39;false&#39;时，不启用SMTP服务器的身份验证；当为&#39;true&#39;时，启用SMTP服务器的身份验证。</td></tr><tr><td>spring.mail.properties.mail.smtp.starttls.enable</td><td>是否启用STARTTLS加密连接，当为&#39;false&#39;时，不启用STARTTLS加密连接；当为&#39;true&#39;时，启用STARTTLS加密连接。</td></tr><tr><td>spring.mail.properties.mail.smtp.starttls.required</td><td>是否要求客户端使用STARTTLS加密连接，当为&#39;false&#39;时，客户端可以选择是否使用STARTTLS加密连接；当为&#39;true&#39;时，客户端必须使用STARTTLS加密连接。</td></tr><tr><td>password-reset.url.config</td><td>重置密码的链接地址，指定了用于重置密码的链接地址。</td></tr></tbody></table><ol start="3"><li>构建和启动容器：运行以下命令来构建和启动项目容器：</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">up</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-d</span></span></code></pre></div><ol start="4"><li><p>验证部署：等待一段时间后，可以通过访问服务器的IP地址或域名来验证项目是否成功部署。如果一切正常，应该能够看到项目的首页或相关页面。</p></li><li><p>停止和清理容器：如果需要停止和清理容器，可以运行以下命令：</p></li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">down</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ul><li><p>请确保服务器的防火墙已经打开了所需的端口，以便能够从外部访问项目。</p></li><li><p>如果项目需要使用数据库等外部服务，请确保这些服务已经正确地配置，并能够在项目容器中访问到。</p></li><li><p>如果项目有特殊的依赖项或配置要求，请根据实际情况进行相应的调整。</p></li><li><p>在部署过程中，如果出现任何错误或问题，请参考Docker和Docker Compose的官方文档进行故障排除。</p></li></ul><p>希望以上部署说明对你有帮助！如有任何疑问，请随时向我提问。</p>',22),d=[r];function o(i,p,n,c,m,h){return a(),e("div",null,d)}const D=t(l,[["render",o]]);export{b as __pageData,D as default};
